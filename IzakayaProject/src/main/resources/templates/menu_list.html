<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8" />
  <title>ãƒ¡ãƒ‹ãƒ¥ãƒ¼ | é…’å±‹ ç´« - Izakaya SION</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <link rel="stylesheet" href="/css/index.css" />
  <link rel="stylesheet" href="/css/menu.css" />

  <!-- âœ…âœ…âœ… DRINK íƒ­ì´ "ì•„ë¬´ê²ƒë„ ì•ˆ ëœ¨ëŠ”" ë¬¸ì œ ë°©ì§€ìš© ìµœì†Œ ìˆ˜ì • (ë³µë¶™ OK)
       - menu.cssë¥¼ ê±´ë“œë¦¬ì§€ ì•Šê³ ë„ ë™ì‘í•˜ê²Œ inlineìœ¼ë¡œ ë³´ê°•
       - ê¸°ì¡´ ê¸°ëŠ¥/JS ë¡œì§/HTML êµ¬ì¡°ëŠ” ê·¸ëŒ€ë¡œ -->
  <style>
    /* âœ… í•„í„° í† ê¸€ ì´í›„ DRINK ì¹´ë“œê°€ ë‹¤ì‹œ ì•ˆ ë³´ì´ëŠ” ì¼€ì´ìŠ¤ ë°©ì§€ */
    .menu-page-wrap .menu-card.menu-card--drink{
      display:flex;                 /* í•µì‹¬ */
      flex-direction:column;
      grid-column: span 12 !important;
    }
    /* í˜¹ì‹œ ìƒìœ„ì—ì„œ drinkë¥¼ ìˆ¨ê¸°ëŠ” ìŠ¤íƒ€ì¼ì´ ìˆìœ¼ë©´ ë¬´íš¨í™” */
    .menu-page-wrap .menu-card.menu-card--drink.is-hidden{
      display:none !important;
    }
    /* âœ… DRINK ì¹´ë“œ: ì‚¬ì§„ë§Œ ë³´ì´ê²Œ (í•˜ë‹¨ íšŒìƒ‰ì„  ì œê±°) */
  .menu-card--drink .menu-thumb{
    border-bottom: none !important;
  }
  /* âœ… DRINK ì¹´ë“œ: ì´ë¯¸ì§€ ìœ„/ì•„ë˜ ì•ˆ ì˜ë¦¬ê²Œ */
  .menu-card--drink .menu-thumb img{
    object-fit: contain !important;
    background: #fff; /* ì—¬ë°± ìƒê¸¸ ë•Œ ê¹”ë”í•˜ê²Œ */
  }

  /* âœ… DRINK ì¹´ë“œ í•˜ë‹¨ êµ¬ë¶„ì„  ì œê±° (ì´ì „ ìš”ì²­ ìœ ì§€) */
  .menu-card--drink .menu-thumb{
    border-bottom: none !important;
  }
  /* âœ… DRINK ì¹´ë“œ: ì¢Œìš°ëŠ” ìœ ì§€, ìœ„Â·ì•„ë˜ ëœ ì˜ë¦¬ê²Œ */
  .menu-card--drink .menu-thumb img{
    object-fit: cover !important;      /* ì¢Œìš° ìœ ì§€ */
    object-position: center top;       /* ğŸ”‘ í•µì‹¬ */
  }

  /* âœ… DRINK ì¹´ë“œ í•˜ë‹¨ íšŒìƒ‰ ì¤„ ì œê±° (ìœ ì§€) */
  .menu-card--drink .menu-thumb{
    border-bottom: none !important;
  }
  
  </style>
</head>

<body id="time-theme">
<div class="menu-page-wrap">

<header class="top-bar wood-header">
  <a href="/" class="logo brand-area" aria-label="ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã¸">
    <img src="/images/logo-brand.png"
         alt="é…’å±‹ ã‚·ã‚ªãƒ³ ãƒ­ã‚´"
         class="brand-logo neon-logo">
    <img src="/images/logo-sion-neon.svg"
         alt="é…’å±‹ ã‚·ã‚ªãƒ³"
         class="brand-text">
  </a>

  <nav>
    <a href="/menu">ãƒ¡ãƒ‹ãƒ¥ãƒ¼</a>
    <a href="/#service">ã‚µãƒ¼ãƒ“ã‚¹</a>
    <a href="/#campaign">ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³</a>
  </nav>

  <div class="wood-header-shadow"></div>
</header>

<section class="menu-page wood-bg">
  <div class="menu-page-head">
    <h1>ãƒ¡ãƒ‹ãƒ¥ãƒ¼</h1>
  </div>

  <!-- âœ…âœ… íƒ­ì„ DB ì¹´í…Œê³ ë¦¬(enum)ì™€ 1:1 ë§¤ì¹­ë˜ê²Œ ì •ë¦¬ -->
  <div class="menu-tabs" role="tablist" aria-label="menu categories">
    <button type="button" class="tab active" data-filter="all" role="tab" aria-selected="true">ã™ã¹ã¦</button>
    <button type="button" class="tab" data-filter="single" role="tab" aria-selected="false">å˜å“ãƒ¡ãƒ‹ãƒ¥ãƒ¼</button>
    <button type="button" class="tab" data-filter="main" role="tab" aria-selected="false">éººãƒ»ã”é£¯é¡</button>
    <button type="button" class="tab" data-filter="fried_pan" role="tab" aria-selected="false">æšã’ç‰©ãƒ»ãƒãƒ‚ãƒŸ</button>
    <button type="button" class="tab" data-filter="snack" role="tab" aria-selected="false">ç°¡å˜ãŠã¤ã¾ã¿</button>
    <button type="button" class="tab" data-filter="drink" role="tab" aria-selected="false">é£²ã¿ç‰©</button>
  </div>

  <div class="menu-grid" id="menuGrid">

    <!-- âœ…âœ… DB ë©”ë‰´ ì¶œë ¥ -->
    <th:block th:if="${menus != null and !#lists.isEmpty(menus)}">
      <th:block th:each="m : ${menus}">

        <!-- âœ… DRINK ì „ìš© ì¹´ë“œ -->
        <article th:if="${m.category != null and m.category.name() == 'DRINK'}"
                 class="menu-card menu-card--drink"
                 th:attr="data-cat=${#strings.toLowerCase(m.category.name())}">

          <a class="menu-card-link" th:href="@{/menu/{id}(id=${m.id})}" aria-label="ãƒ¡ãƒ‹ãƒ¥ãƒ¼è©³ç´°ã¸">
            <div class="menu-thumb menu-thumb--drink">
              <img th:src="${(m.imageUrl != null and m.imageUrl != '') ? m.imageUrl : '/images/menu/drink menu.png'}"
                   alt="ãƒ‰ãƒªãƒ³ã‚¯ãƒ¡ãƒ‹ãƒ¥ãƒ¼">
            </div>

            <div class="menu-info">
              <div class="menu-title-row">
                <h3 class="menu-title" th:text="${m.name}">ãƒ‰ãƒªãƒ³ã‚¯ãƒ¡ãƒ‹ãƒ¥ãƒ¼</h3>
                <span class="menu-title-tag"
                      th:if="${m.tagText != null and m.tagText != ''}"
                      th:text="${m.tagText}">ã‚¿ã‚°</span>
              </div>

              <!-- âœ…âœ… ë¦¬ìŠ¤íŠ¸ì—ì„œëŠ” ï¼ˆç¨è¾¼ï¼‰ í‘œê¸° ì œê±° (DB ê°’ì€ ê·¸ëŒ€ë¡œ) -->
              <div class="menu-price"
                   th:if="${m.priceText != null and m.priceText != ''}"
                   th:text="${
                     #strings.replace(
                       #strings.replace(m.priceText, 'ï¼ˆç¨è¾¼ï¼‰', ''),
                       '(ç¨è¾¼)', ''
                     )
                   }">Â¥0</div>
            </div>
          </a>
        </article>

        <!-- âœ… ì¼ë°˜ ì¹´ë“œ -->
        <article th:if="${m.category == null or m.category.name() != 'DRINK'}"
                 class="menu-card"
                 th:attr="data-cat=${m.category != null ? #strings.toLowerCase(m.category.name()) : 'single'}">

          <a class="menu-card-link" th:href="@{/menu/{id}(id=${m.id})}" aria-label="ãƒ¡ãƒ‹ãƒ¥ãƒ¼è©³ç´°ã¸">
            <div class="menu-thumb">
              <img th:src="${(m.imageUrl != null and m.imageUrl != '') ? m.imageUrl : '/images/menu/no-image.png'}"
                   th:alt="${m.name}">
            </div>

            <div class="menu-info">
              <div class="menu-title-row">
                <h3 class="menu-title" th:text="${m.name}">ãƒ¡ãƒ‹ãƒ¥ãƒ¼å</h3>
              </div>

              <!-- âœ…âœ… ë¦¬ìŠ¤íŠ¸ì—ì„œëŠ” ï¼ˆç¨è¾¼ï¼‰ í‘œê¸° ì œê±° (DB ê°’ì€ ê·¸ëŒ€ë¡œ) -->
              <div class="menu-price"
                   th:if="${m.priceText != null and m.priceText != ''}"
                   th:text="${
                     #strings.replace(
                       #strings.replace(m.priceText, 'ï¼ˆç¨è¾¼ï¼‰', ''),
                       '(ç¨è¾¼)', ''
                     )
                   }">Â¥0</div>
            </div>
          </a>
        </article>

      </th:block>
    </th:block>
<!-- âœ… DRINK ìƒ˜í”Œ -->
      <!-- âœ… DRINK ìƒ˜í”Œ -->
<article class="menu-card menu-card--drink" data-cat="drink">
  <a class="menu-card-link" href="#" aria-label="ãƒ¡ãƒ‹ãƒ¥ãƒ¼è©³ç´°ã¸">
    <div class="menu-thumb menu-thumb--drink">
      <img src="/images/menu/drink menu.png" alt="ãƒ‰ãƒªãƒ³ã‚¯ãƒ¡ãƒ‹ãƒ¥ãƒ¼">
    </div>
  </a>
</article>
    <!-- âœ… DB ë¹„ì—ˆì„ ë•Œë§Œ ìƒ˜í”Œ -->
    <th:block th:if="${menus == null or #lists.isEmpty(menus)}">

      <!-- âœ… ì¼ë°˜ ìƒ˜í”Œ -->
      <article class="menu-card" data-cat="main">
        <a class="menu-card-link" href="#" aria-label="ãƒ¡ãƒ‹ãƒ¥ãƒ¼è©³ç´°ã¸">
          <div class="menu-thumb">
            <img src="/images/menu/buldak.png" alt="ãƒ–ãƒ«ãƒ€ãƒƒã‚¯ç‚’ã‚éººï¼ˆè¾›å£ï¼‰">
          </div>
          <div class="menu-info">
            <div class="menu-title-row">
              <h3 class="menu-title">ãƒ–ãƒ«ãƒ€ãƒƒã‚¯ç‚’ã‚éººï¼ˆè¾›å£ï¼‰</h3>
              <span class="menu-title-tag">è¾›å£</span>
            </div>
            <!-- âœ… ìƒ˜í”Œë„ ë¦¬ìŠ¤íŠ¸ì—ì„œëŠ” ç¨è¾¼ ì œê±° -->
            <div class="menu-price">Â¥980</div>
          </div>
        </a>
      </article>

      

    </th:block>

  </div>
</section>

<footer>
  Â© é…’å±‹ ã‚·ã‚ªãƒ³
</footer>

<script>
(function () {
  const hour = new Date().getHours();
  const body = document.getElementById("time-theme");

  if (hour >= 18 && hour < 21) {
    body.classList.add("evening");
  } else if (hour >= 21 || hour < 5) {
    body.classList.add("night");
  }
})();
</script>

<script>
(function () {
  const tabs = document.querySelectorAll(".menu-tabs .tab");
  if (!tabs.length) return;

  function applyFilter(filter){
    const f = (filter || "").trim();
    const liveCards = document.querySelectorAll(".menu-grid .menu-card");

    liveCards.forEach(card => {
      const cat = (card.getAttribute("data-cat") || "").trim();

      // âœ… ì „ì²´(all)ì—ì„œëŠ” drink ì œì™¸ (ê¸°ì¡´ ìœ ì§€)
      const show = (f === "all")
        ? (cat !== "drink")
        : (cat === f);

      card.classList.toggle("is-hidden", !show);
    });
  }

  tabs.forEach(tab => {
    tab.addEventListener("click", () => {
      tabs.forEach(t => {
        t.classList.remove("active");
        t.setAttribute("aria-selected", "false");
      });
      tab.classList.add("active");
      tab.setAttribute("aria-selected", "true");

      applyFilter(tab.dataset.filter);
    });
  });

  const activeTab = document.querySelector(".menu-tabs .tab.active");
  applyFilter(activeTab ? activeTab.dataset.filter : "all");
})();
</script>

</div>
</body>
</html>