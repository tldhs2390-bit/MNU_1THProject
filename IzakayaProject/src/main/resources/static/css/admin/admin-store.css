@charset "UTF-8";

/* =========================================================
   admin-store.css (店舗登録 페이지 전용)
   요구사항:
   - 좌(420px)/우(1fr) 비율 유지
   - 가로 스크롤 없음(무조건)
   - 테이블 영역(오른쪽)만 세로 스크롤
   - 등록폼(왼쪽) 위에서 시작
   - 점포(행) 늘어나도 페이지/등록폼이 아래로 길어지지 않게(고정 높이)
========================================================= */

:root{
  --frame:#5a3f2b;
  --danger:#b00020;

  --btn-dark-top: rgba(30,24,18,.98);
  --btn-dark-bot: rgba(10,10,10,.98);
  --btn-dark-border: rgba(255,255,255,.14);

  --btn-line: rgba(0,0,0,.12);
  --btn-white: rgba(255,255,255,.92);

  --btn-danger-line: rgba(220,0,40,.20);
  --btn-danger-text: #b2002a;
  --btn-danger-hover: rgba(220,0,40,.06);

  --btn-edit-line: rgba(0,0,0,.20);
  --btn-edit-text: #222;
  --btn-edit-hover: rgba(0,0,0,.05);
}

/* =========================
   ✅ 전체 스크롤 정책
   - 가로 스크롤은 무조건 차단
========================= */
html, body{ height:100%; }
body.admin.admin-store{
  overflow-y:auto;
  overflow-x:hidden;
}

/* =========================
   ✅ sidebar (기존 유지)
========================= */
body.admin.admin-store .admin-sidebar{ text-align:center; }
body.admin.admin-store .admin-login-title{
  border-radius:0 !important;
  text-align:center !important;
}
body.admin.admin-store .admin-side-links{ text-align:center; }
body.admin.admin-store .admin-side-link{
  border-radius:0 !important;
  text-align:center !important;
  justify-content:center;
}
body.admin.admin-store .admin-login input{
  border-radius:0 !important;
  text-align:center;
}
body.admin.admin-store .admin-login,
body.admin.admin-store .admin-session-box{
  opacity:1 !important;
  filter:none !important;
  mix-blend-mode:normal !important;
  isolation:isolate;
}
body.admin.admin-store .admin-login button,
body.admin.admin-store .admin-session-box form button{
  width:100%;
  padding:10px;
  border:none !important;
  border-radius:0 !important;
  box-shadow:none !important;
  background:#111 !important;
  background-image:none !important;
  color:#fff !important;
  cursor:pointer;
  transform:none !important;
  text-align:center !important;
}
body.admin.admin-store .admin-login button:hover,
body.admin.admin-store .admin-session-box form button:hover{
  opacity:.92 !important;
}
body.admin.admin-store .admin-session-timer{ display:none !important; }

/* 왼쪽 메뉴 버튼(직각) */
body.admin.admin-store .admin-side-links{
  display:grid;
  gap:10px;
  margin-top:10px;
  text-align:center;
}
body.admin.admin-store .admin-side-link{
  display:block;
  padding:10px 12px;
  border-radius:0 !important;
  text-decoration:none;
  font-weight:900;
  color:#2b1f14;
  background: rgba(255,255,255,.70);
  border: 1px solid rgba(107,74,45,.16);
  box-shadow: inset 0 1px 0 rgba(255,255,255,.6);
  text-align:center !important;
  justify-content:center;
}
body.admin.admin-store .admin-side-link:hover{
  background: rgba(255,255,255,.85);
}
body.admin.admin-store .admin-side-link.active{
  background: rgba(17,17,17,.92);
  color:#fff;
  border-color: rgba(0,0,0,.25);
}

/* =========================
   ✅ page frame (핵심: 높이 고정)
========================= */
body.admin.admin-store .admin-page.admin-store-page{
  border-radius:0 !important;
  border:6px solid var(--frame) !important;
  box-shadow:0 14px 18px rgba(0,0,0,.18) !important;
  background:rgba(255,255,255,.86);

  width: min(1380px, calc(100% - 32px));
  margin: 0 auto;
  padding:16px;

  height: calc(100vh - 170px);
  min-height: 560px;

  display:flex;
  flex-direction:column;
  overflow:hidden;
}

/* 상단 헤더 */
.store-page-head{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  margin-bottom:12px;
  flex: 0 0 auto;
}
.store-page-head h2{
  margin:0;
  font-size:20px;
  letter-spacing:.08em;
}

/* 상단 버튼 */
.admin-back-btn{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  padding:10px 12px;
  border-radius:0;
  border:1px solid var(--btn-dark-border);
  background: linear-gradient(180deg, var(--btn-dark-top), var(--btn-dark-bot));
  color:#fff;
  text-decoration:none;
  font-weight:900;
  white-space:nowrap;
  box-shadow:
    0 10px 18px rgba(0,0,0,.18),
    inset 0 1px 0 rgba(255,255,255,.12);
  transition: transform .12s ease, opacity .12s ease, box-shadow .12s ease;
}
.admin-back-btn:hover{
  opacity:.94;
  transform: translateY(-1px);
  box-shadow:
    0 14px 24px rgba(0,0,0,.22),
    inset 0 1px 0 rgba(255,255,255,.12);
}

/* 안내 메시지 */
.msg{
  padding:10px 12px;
  border:1px solid rgba(0,0,0,.10);
  background:rgba(255,255,255,.75);
  margin-bottom:12px;
  border-radius:0;
  color:#111;
  font-size:13px;
  flex: 0 0 auto;
}

/* =========================
   ✅ 핵심 레이아웃
========================= */
.store-wrap{
  display:grid;
  grid-template-columns: 420px minmax(0, 1fr);
  gap:18px;

  align-items:start;
  flex: 1 1 auto;

  min-height: 0; /* ✅ 내부 스크롤 필수 */
}

/* 그리드 아이템이 내용 때문에 커지는 것 방지 */
.store-wrap > .box{ min-width:0; min-height:0; }

/* =========================
   ✅ 박스 공통
========================= */
.box{
  background:rgba(255,255,255,.92);
  border-radius:0 !important;
  border:4px solid var(--frame) !important;
  box-shadow:0 12px 18px rgba(0,0,0,.12) !important;
  padding:16px;

  display:flex;
  flex-direction:column;
  min-height:0;
}

.box-title{
  margin:0 0 12px;
  font-size:16px;
  font-weight:700;
  flex: 0 0 auto;
}

/* =========================
   ✅ 공통 버튼
========================= */
.btn{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  padding:10px 12px;
  border-radius:0;
  cursor:pointer;
  line-height:1;
  min-width:120px;
  text-align:center;
  font-weight:900;
  border:1px solid var(--btn-line);
  background: var(--btn-white);
  color:#111;
  box-shadow: inset 0 1px 0 rgba(255,255,255,.6);
  transition: background .12s ease, transform .12s ease, opacity .12s ease, box-shadow .12s ease;
}

.btn-primary{
  background: linear-gradient(180deg, var(--btn-dark-top), var(--btn-dark-bot));
  border:1px solid var(--btn-dark-border);
  color:#fff;
  box-shadow:
    0 10px 18px rgba(0,0,0,.18),
    inset 0 1px 0 rgba(255,255,255,.12);
}
.btn-primary:disabled{
  opacity:.55;
  cursor:not-allowed;
  transform:none;
  box-shadow:
    0 10px 18px rgba(0,0,0,.12),
    inset 0 1px 0 rgba(255,255,255,.10);
}
body.admin.admin-store .btn-primary:hover,
body.admin.admin-store .btn-primary:focus,
body.admin.admin-store .btn-primary:active{
  background:#111 !important;
  color:#fff !important;
  box-shadow:none !important;
  transform:none !important;
  opacity:0.92;
}

.btn-ghost{
  background: var(--btn-white);
  border:1px solid var(--btn-line);
  color:#111;
}
.btn-ghost:hover{
  background: rgba(255,255,255,1);
  transform: translateY(-1px);
}

.btn-danger{
  background: var(--btn-white);
  border:1px solid var(--btn-danger-line);
  color: var(--btn-danger-text);
  min-width:74px;
  padding:10px 12px;
  border-radius:0;
  cursor:pointer;
  box-shadow: inset 0 1px 0 rgba(255,255,255,.6);
  transition: background .12s ease, transform .12s ease;
}
.btn-danger:hover{
  background: var(--btn-danger-hover);
  transform: translateY(-1px);
}

.btn-edit{
  background: var(--btn-white);
  border:1px solid var(--btn-edit-line);
  color: var(--btn-edit-text);
  min-width:74px;
  padding:10px 12px;
  border-radius:0;
  cursor:pointer;
  box-shadow: inset 0 1px 0 rgba(255,255,255,.6);
  transition: background .12s ease, transform .12s ease;
}
.btn-edit:hover{
  background: var(--btn-edit-hover);
  transform: translateY(-1px);
}

/* =========================
   ✅ 폼(왼쪽) - 늘어나지 않게 "건드리지 않음"
========================= */
.form-row{
  display:flex;
  flex-direction:column;
  gap:6px;
  margin-bottom:12px;
}
.form-row label{
  font-size:13px;
  color:#333;
}
.form-row input,
.form-row select{
  height:38px;
  padding:8px 10px;
  border:1px solid #ccc;
  border-radius:0;
  outline:none;
  background:#fff;
}
.subhelp{
  font-size:12px;
  color:#666;
  line-height:1.4;
}
.city-custom-wrap{
  display:none;
  margin-top:8px;
}
.invalid{
  border-color: var(--danger) !important;
  box-shadow:0 0 0 2px rgba(176,0,32,.10);
}
.error-text{
  font-size:12px;
  color:var(--danger);
  margin-top:2px;
  min-height:16px;
}
.hint{
  font-size:12px;
  color:#666;
  margin-top:10px;
  line-height:1.55;
}
.form-actions{
  display:flex;
  gap:10px;
  margin-top:12px;
  padding-top:0;
  align-items:center;
  flex-wrap:wrap;
}
.edit-mode-badge{
  display:none;
  align-items:center;
  gap:8px;
  padding:8px 10px;
  border-radius:0;
  border:1px solid rgba(0,0,0,.12);
  background: rgba(255,255,255,.70);
  font-size:12.5px;
  color:#111;
  font-weight:900;
}
.edit-mode-badge.is-on{ display:inline-flex; }

/* =========================
   ✅ 오른쪽(등록済み店舗)만 "고정 높이 + 내부 스크롤"
   - 왼쪽은 절대 건드리지 않음
========================= */
body.admin.admin-store .store-wrap > .box:last-child{
  height: 100%;          /* ✅ store-wrap(남은높이)만큼만 */
  overflow: hidden;      /* ✅ 내용 때문에 박스가 늘어나지 않게 */
  display:flex;
  flex-direction:column;
}

/* =========================
   ✅ 테이블 툴바/필터
========================= */
.table-toolbar{
  display:flex;
  align-items:flex-end;
  justify-content:space-between;
  gap:10px;
  flex-wrap:wrap;
  margin-bottom:10px;
  flex: 0 0 auto;
}
.filter-group{
  display:flex;
  align-items:flex-end;
  gap:10px;
  flex-wrap:wrap;
}
.filter-item{
  display:flex;
  flex-direction:column;
  gap:6px;
}
.filter-item label{
  font-size:12.5px;
  color:#333;
  white-space:nowrap;
}
.filter-item select,
.filter-item input{
  height:34px;
  padding:6px 10px;
  border:1px solid #ccc;
  border-radius:0;
  background:#fff;
  min-width:180px;
}
.filter-meta{
  font-size:12.5px;
  color:#666;
  flex: 0 0 auto;
}

/* =========================
   ✅ 테이블: "오른쪽 박스 안(table-wrap)"에서만 세로 스크롤
========================= */
.table-wrap{
  flex: 1 1 auto;
  min-height: 0;

  overflow-y: auto;     /* ✅ 점포 늘면 여기서만 스크롤 */
  overflow-x: hidden;   /* ✅ 가로 스크롤 금지 */

  margin-top:6px;
  background:#fff;

  -webkit-overflow-scrolling: touch;
}

table{
  width:100%;
  border-collapse:collapse;
  table-layout: fixed;
}

thead th{
  background:#fafafa;
  border-bottom:1px solid #eee;
  padding:12px;
  text-align:left;
  font-size:13px;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}
tbody td{
  border-bottom:1px solid #eee;
  padding:12px;
  font-size:14px;
  vertical-align:middle;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}

.td-actions{ white-space:nowrap; }
.td-actions .action-row{
  display:flex;
  gap:8px;
  justify-content:flex-start;
  align-items:center;
}
.td-actions form{ margin:0; }

/* =========================
   ✅ 반응형
========================= */
@media (max-width:1100px){
  body.admin.admin-store .admin-page.admin-store-page{
    height:auto;
    min-height:0;
    overflow:visible;
  }

  .store-wrap{ grid-template-columns:1fr; }
  .table-wrap{ max-height: 60vh; }

  /* 모바일에서는 오른쪽 박스 높이 고정 해제 */
  body.admin.admin-store .store-wrap > .box:last-child{
    height:auto;
    overflow:visible;
  }
}