<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
      th:replace="layout/layout :: layout(~{::section})">

<section class="board-list-section">

    <div class="board-header">
    	<h2>포트폴리오</h2>
	    <a th:if="${session.user != null and session.user.userid == 'admin'}"
	       th:href="@{/portfolio/portfolio_write(page=${page})}" 
	       class="board-write-btn">글쓰기</a>
	</div>

    <div class="board-list">

        <!-- 목록 헤더 -->
        <div class="board-row board-head">
            <div class="col-num">번호</div>
            <div class="col-title">제목</div>
            <div class="col-writer">작성자</div>
            <div class="col-date">날짜</div>
            <div class="col-read">조회수</div>
        </div>

        <!-- 데이터 있을 때 -->
	<div th:each="dto, iterStat : ${list}" class="board-row">
	    <div class="col-num" th:text="${listcount - iterStat.index}">1</div>
	    <div class="col-title">
	        <a th:href="@{/portfolio/portfolio_view(idx=${dto.idx}, page=${page})}" th:text="${dto.title}">제목</a>
	    </div>
	    <div class="col-writer" th:text="${dto.name}">관리자</div>
	    <div class="col-date" th:text="${#temporals.format(dto.regdate,'yyyy-MM-dd')}">2026-01-07</div>
	    <div class="col-read" th:text="${dto.readcnt}">0</div>
	</div>

        <div class="board-row empty" th:if="${list == null or #lists.isEmpty(list)}">
            등록된 포트폴리오가 없습니다.
        </div>
    </div>


<div class="board-pagination" style="text-align:center; margin-top:20px;">
    <span th:if="${pagelist != null}" th:utext="${pagelist}"></span>
</div>
    <!-- 검색 바 -->
    <div class="portfolio-search" style="text-align:center; margin-bottom:15px;">
        <form th:action="@{/portfolio/portfolio_list}" method="get">
            <input type="text" name="keyword" th:value="${keyword}" placeholder="제목 검색">
            <button type="submit">검색</button>
        </form>
    </div>
</section>
</html>